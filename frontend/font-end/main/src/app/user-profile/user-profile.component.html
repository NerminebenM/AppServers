<div class="profile-container">
  <h2>Mon Profil</h2>
  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
    <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
    <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

    <div>
      <label for="username">Nom d'utilisateur</label>
      <input id="username" formControlName="username" type="text" />
    </div>

    <div>
      <label for="email">Adresse Email</label>
      <input id="email" formControlName="email" type="email" />
    </div>

    <div>
      <label for="photo">Photo de Profil</label>
      <input id="photo" formControlName="photo" type="text" hidden />
      <input type="file" (change)="onFileSelected($event)" />
      <div *ngIf="previewUrl">
        <img [src]="previewUrl" alt="Prévisualisation de la photo de profil" width="100" height="100"/>
      </div>
    </div>

    <div>
      <label for="password">Mot de Passe</label>
      <input id="password" formControlName="password" type="password" />
    </div>

    <button type="submit" [disabled]="!profileForm.valid">Mettre à jour</button>
    <button type="button" (click)="goBack()">Retour</button>
  </form>
</div>
